"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5620],{5620:(N,d,u)=>{u.r(d),u.d(d,{SignupPageModule:()=>$});var p=u(177),s=u(4341),a=u(1075),m=u(8189),f=u(467),e=u(4438),F=u(9214);const v=()=>["/login"];function _(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo es obligatorio"),e.k0s()())}function P(o,t){if(1&o&&(e.j41(0,"div"),e.DNE(1,_,3,0,"ion-text",9),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.errorControl.name.errors.required)}}function h(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo es obligatorio"),e.k0s()())}function k(o,t){if(1&o&&(e.j41(0,"div"),e.DNE(1,h,3,0,"ion-text",9),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.errorControl.surnames.errors.required)}}function E(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo es obligatorio"),e.k0s()())}function C(o,t){if(1&o&&(e.j41(0,"div"),e.DNE(1,E,3,0,"ion-text",9),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.errorControl.genre.errors.required)}}function x(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo es obligatorio"),e.k0s()())}function b(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo tiene un formato no v\xe1lido"),e.k0s()())}function j(o,t){if(1&o&&(e.j41(0,"div"),e.DNE(1,x,3,0,"ion-text",9)(2,b,3,0,"ion-text",9),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.errorControl.email.errors.required),e.R7$(),e.Y8G("ngIf",i.errorControl.email.errors.pattern)}}function S(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo es obligatorio"),e.k0s()())}function G(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo debe contener al menos: Una letra may\xfascula, un n\xfamero, un caracter especial y debe tener una longitud m\xednima de 8 digitos."),e.k0s()())}function y(o,t){if(1&o&&(e.j41(0,"div"),e.DNE(1,S,3,0,"ion-text",9)(2,G,3,0,"ion-text",9),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.errorControl.password.errors.required),e.R7$(),e.Y8G("ngIf",i.errorControl.password.errors.pattern)}}function I(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo es obligatorio"),e.k0s()())}function w(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"El campo debe contener al menos: Una letra may\xfascula, un n\xfamero, un caracter especial y debe tener una longitud m\xednima de 8 digitos."),e.k0s()())}function T(o,t){1&o&&(e.j41(0,"ion-text")(1,"p",25),e.EFF(2,"Las contrase\xf1as no coinciden"),e.k0s()())}function R(o,t){if(1&o&&(e.j41(0,"div"),e.DNE(1,I,3,0,"ion-text",9)(2,w,3,0,"ion-text",9)(3,T,3,0,"ion-text",9),e.k0s()),2&o){const i=e.XpG();e.R7$(),e.Y8G("ngIf",i.errorControl.confirmPassword.errors.required),e.R7$(),e.Y8G("ngIf",i.errorControl.confirmPassword.errors.pattern),e.R7$(),e.Y8G("ngIf",null==i.errorControl.confirmPassword.errors?null:i.errorControl.confirmPassword.errors.notEquivalent)}}const M=[{path:"",component:(()=>{var o;class t{constructor(r,n,l,g,c){this.formBuilder=r,this.loadingCtrl=n,this.authService=l,this.router=g,this.toastController=c}ngOnInit(){this.regForm=this.formBuilder.group({name:["",[s.k0.required]],surnames:["",[s.k0.required]],genre:["",[s.k0.required]],email:["",[s.k0.required,s.k0.email,s.k0.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$")]],password:["",[s.k0.required,s.k0.pattern("(?=.*d)(?=.*[a-z])(?=.*[0-8])(?=.*[A-Z]).{8,}")]],confirmPassword:["",[s.k0.required,s.k0.pattern("(?=.*d)(?=.*[a-z])(?=.*[0-8])(?=.*[A-Z]).{8,}")]]},{validator:this.matchingPasswords("password","confirmPassword")})}get errorControl(){var r;return null===(r=this.regForm)||void 0===r?void 0:r.controls}matchingPasswords(r,n){return l=>{const c=l.controls[n];return c.setErrors(l.controls[r].value!==c.value?{notEquivalent:!0}:null)}}signUp(){var r=this;return(0,f.A)(function*(){const n=yield r.loadingCtrl.create();if(yield n.present(),r.regForm.valid)try{r.authService.registerUser(r.regForm.value.name,r.regForm.value.surnames,r.regForm.value.genre,r.regForm.value.email,r.regForm.value.password).subscribe({next:l=>{r.authService.setCurrentUser(l),n.dismiss(),r.router.navigate(["/tabs"])},error:l=>{n.dismiss(),console.error(l),r.presentToast("Error durante el registro","bottom")}})}catch(l){n.dismiss(),console.error(l),r.presentToast("Error durante el registro","bottom")}else n.dismiss(),r.presentToast("Por favor, complete el formulario correctamente","bottom")})()}presentToast(r,n){var l=this;return(0,f.A)(function*(){yield(yield l.toastController.create({message:r,duration:3e3,position:n,color:"danger",mode:"ios",translucent:!0,swipeGesture:"vertical"})).present()})()}}return(o=t).\u0275fac=function(r){return new(r||o)(e.rXU(s.ok),e.rXU(a.Xi),e.rXU(F.k),e.rXU(m.Ix),e.rXU(a.K_))},o.\u0275cmp=e.VBU({type:o,selectors:[["app-signup"]],decls:48,vars:11,consts:[["mode","ios",1,"ion-no-border",3,"translucent"],[3,"fullscreen"],[1,"header"],[1,"title"],[1,"subTitle"],["novalidate","",3,"formGroup"],[1,"ion-padding"],["formControlName","name","type","text","placeholder","Nombre",1,"input"],["name","person-outline"],[4,"ngIf"],["formControlName","surnames","type","text","placeholder","Apellidos",1,"input"],["formControlName","genre","placeholder","Indique su g\xe9nero"],["value","hombre"],["value","mujer"],["name","accessibility-outline"],["formControlName","email","type","text","placeholder","Correo electr\xf3nico",1,"input"],["name","at-outline"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"input"],["name","lock-closed-outline"],["formControlName","confirmPassword","type","password","placeholder","Confirmar contrase\xf1a",1,"input"],[1,"signinLink"],[2,"color","#663399",3,"routerLink"],["vertical","bottom","horizontal","end",2,"margin-bottom","35px"],["color","tertiary",3,"click"],["name","chevron-forward"],[1,"text"]],template:function(r,n){1&r&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),e.EFF(3,"Registro"),e.k0s()()(),e.j41(4,"ion-content",1)(5,"div",2)(6,"ion-title",3),e.EFF(7,"Bienvenido/a!"),e.k0s(),e.j41(8,"p",4),e.EFF(9,"Reg\xedstrate"),e.k0s()(),e.j41(10,"form",5)(11,"div",6)(12,"ion-item"),e.nrm(13,"ion-input",7)(14,"ion-icon",8),e.k0s(),e.DNE(15,P,2,1,"div",9),e.j41(16,"ion-item"),e.nrm(17,"ion-input",10)(18,"ion-icon",8),e.k0s(),e.DNE(19,k,2,1,"div",9),e.j41(20,"ion-item")(21,"ion-select",11)(22,"ion-select-option",12),e.EFF(23,"Hombre"),e.k0s(),e.j41(24,"ion-select-option",13),e.EFF(25,"Mujer"),e.k0s()(),e.nrm(26,"ion-icon",14),e.k0s(),e.DNE(27,C,2,1,"div",9),e.j41(28,"ion-item"),e.nrm(29,"ion-input",15)(30,"ion-icon",16),e.k0s(),e.DNE(31,j,3,2,"div",9),e.j41(32,"ion-item"),e.nrm(33,"ion-input",17)(34,"ion-icon",18),e.k0s(),e.DNE(35,y,3,2,"div",9),e.j41(36,"ion-item"),e.nrm(37,"ion-input",19)(38,"ion-icon",18),e.k0s(),e.DNE(39,R,4,3,"div",9),e.j41(40,"div",20)(41,"p"),e.EFF(42," \xbfYa tienes cuenta? "),e.j41(43,"a",21),e.EFF(44,"Inicia sesi\xf3n"),e.k0s()()()(),e.j41(45,"ion-fab",22)(46,"ion-fab-button",23),e.bIt("click",function(){return n.signUp()}),e.nrm(47,"ion-icon",24),e.k0s()()()()),2&r&&(e.Y8G("translucent",!0),e.R7$(4),e.Y8G("fullscreen",!0),e.R7$(6),e.Y8G("formGroup",n.regForm),e.R7$(5),e.Y8G("ngIf",(null==n.regForm.controls?null:n.regForm.controls.name.touched)&&(null==n.regForm.controls?null:n.regForm.controls.name.invalid)),e.R7$(4),e.Y8G("ngIf",(null==n.regForm.controls?null:n.regForm.controls.surnames.touched)&&(null==n.regForm.controls?null:n.regForm.controls.surnames.invalid)),e.R7$(8),e.Y8G("ngIf",(null==n.regForm.controls?null:n.regForm.controls.genre.touched)&&(null==n.regForm.controls?null:n.regForm.controls.genre.invalid)),e.R7$(4),e.Y8G("ngIf",(null==n.regForm.controls?null:n.regForm.controls.email.touched)&&(null==n.regForm.controls?null:n.regForm.controls.email.invalid)),e.R7$(4),e.Y8G("ngIf",(null==n.regForm.controls?null:n.regForm.controls.password.touched)&&(null==n.regForm.controls?null:n.regForm.controls.password.invalid)),e.R7$(4),e.Y8G("ngIf",(null==n.regForm.controls?null:n.regForm.controls.confirmPassword.touched)&&(null==n.regForm.controls?null:n.regForm.controls.confirmPassword.invalid)),e.R7$(4),e.Y8G("routerLink",e.lJ4(10,v)))},dependencies:[p.bT,s.qT,s.BC,s.cb,a.W9,a.Q8,a.YW,a.eU,a.iq,a.$w,a.uz,a.Nm,a.Ip,a.IO,a.BC,a.ai,a.Je,a.Gw,a.oY,m.Wk,s.j4,s.JD],styles:[".input[_ngcontent-%COMP%]{font-weight:300}ion-item[_ngcontent-%COMP%]{--background:#fbdaff54;border-radius:10px;margin-bottom:16px}.header[_ngcontent-%COMP%]{margin-top:50px;margin-bottom:50px;text-align:center}.header[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{color:gray;font-size:1.2rem}.header[_ngcontent-%COMP%]   title[_ngcontent-%COMP%]{font-size:3rem}.signinLink[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:auto;justify-content:center;position:absolute;left:0;bottom:0;right:0;width:80%}.signinLink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.signinLink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.text[_ngcontent-%COMP%]{display:flex;justify-content:left;font-size:smaller;margin-left:20px;color:#ff000080}"]}),t})()}];let Y=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[m.iI.forChild(M),m.iI]}),t})(),$=(()=>{var o;class t{}return(o=t).\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.$C({type:o}),o.\u0275inj=e.G2t({imports:[p.MD,s.YN,a.bv,Y,s.X1]}),t})()}}]);