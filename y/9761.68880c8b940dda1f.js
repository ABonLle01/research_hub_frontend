"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9761],{9761:(O,d,u)=>{u.r(d),u.d(d,{LoginPageModule:()=>G});var m=u(177),s=u(4341),r=u(1075),c=u(8189),f=u(467),p=u(9350),F=u(7707),o=u(4438),P=u(9214);const h=()=>["/reset-pass"],C=()=>["/signup"];function b(n,i){1&n&&(o.j41(0,"ion-text")(1,"p",18),o.EFF(2,"El correo electr\xf3nico es obligatorio"),o.k0s()())}function y(n,i){1&n&&(o.j41(0,"ion-text")(1,"p",18),o.EFF(2,"El correo electr\xf3nico tiene un formato no v\xe1lido"),o.k0s()())}function L(n,i){if(1&n&&(o.j41(0,"div"),o.DNE(1,b,3,0,"ion-text",9)(2,y,3,0,"ion-text",9),o.k0s()),2&n){const a=o.XpG();o.R7$(),o.Y8G("ngIf",a.errorControl.email.errors.required),o.R7$(),o.Y8G("ngIf",a.errorControl.email.errors.pattern)}}function x(n,i){1&n&&(o.j41(0,"ion-text")(1,"p",18),o.EFF(2,"La contrase\xf1a es obligatorio"),o.k0s()())}function k(n,i){1&n&&(o.j41(0,"ion-text")(1,"p",18),o.EFF(2,"La contrase\xf1a debe contener al menos: Una letra may\xfascula, un n\xfamero, un caracter especial y debe tener una longitud m\xednima de 8 digitos."),o.k0s()())}function M(n,i){if(1&n&&(o.j41(0,"div"),o.DNE(1,x,3,0,"ion-text",9)(2,k,3,0,"ion-text",9),o.k0s()),2&n){const a=o.XpG();o.R7$(),o.Y8G("ngIf",a.errorControl.password.errors.required),o.R7$(),o.Y8G("ngIf",a.errorControl.password.errors.pattern)}}const E=[{path:"",component:(()=>{var n;class i{constructor(t,e,l,g,_){this.formBuilder=t,this.loadingCtrl=e,this.authService=l,this.router=g,this.toastController=_}ngOnInit(){this.loginForm=this.formBuilder.group({email:["",[s.k0.required,s.k0.email,s.k0.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,}$")]],password:["",[s.k0.required]]})}get errorControl(){var t;return null===(t=this.loginForm)||void 0===t?void 0:t.controls}login(){var t=this;return(0,f.A)(function*(){const e=yield t.loadingCtrl.create();if(yield e.present(),t.loginForm.valid)try{const l=yield function v(n,i){const a="object"==typeof i;return new Promise((t,e)=>{const l=new F.Ms({next:g=>{t(g),l.unsubscribe()},error:e,complete:()=>{a?t(i.defaultValue):e(new p.G)}});n.subscribe(l)})}(t.authService.loginUser(t.loginForm.value.email,t.loginForm.value.password));e.dismiss(),l.body?(t.authService.setCurrentUser(l.body),t.router.navigate(["/tabs"])):yield t.presentToast("No se ha encontrado usuario","bottom")}catch(l){e.dismiss(),yield t.presentToast(l.message,"bottom")}else e.dismiss(),yield t.presentToast("Formulario no v\xe1lido","bottom")})()}presentToast(t,e){var l=this;return(0,f.A)(function*(){yield(yield l.toastController.create({message:t,duration:3e3,position:e,color:"danger",mode:"ios",translucent:!0,swipeGesture:"vertical"})).present()})()}}return(n=i).\u0275fac=function(t){return new(t||n)(o.rXU(s.ok),o.rXU(r.Xi),o.rXU(P.k),o.rXU(c.Ix),o.rXU(r.K_))},n.\u0275cmp=o.VBU({type:n,selectors:[["app-login"]],decls:31,vars:9,consts:[["mode","ios",1,"ion-no-border",3,"translucent"],[3,"fullscreen"],[1,"header"],[1,"title"],[1,"subTitle"],[3,"formGroup"],[1,"ion-padding"],["formControlName","email","type","text","placeholder","Correo electr\xf3nico",1,"input"],["name","person-outline"],[4,"ngIf"],["formControlName","password","type","password","placeholder","Contrase\xf1a",1,"input"],["name","lock-closed-outline"],[1,"forgotPassword"],[2,"color","#663399",3,"routerLink"],[1,"signupLink"],["vertical","bottom","horizontal","end",2,"margin-bottom","30px"],["color","tertiary",3,"click"],["name","chevron-forward"],[1,"text"]],template:function(t,e){1&t&&(o.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Inicar Sesi\xf3n"),o.k0s()()(),o.j41(4,"ion-content",1)(5,"div",2)(6,"ion-title",3),o.EFF(7,"Bienvenido/a!"),o.k0s(),o.j41(8,"p",4),o.EFF(9,"Iniciar sesi\xf3n para acceder"),o.k0s()(),o.j41(10,"form",5)(11,"div",6)(12,"ion-item"),o.nrm(13,"ion-input",7)(14,"ion-icon",8),o.k0s(),o.DNE(15,L,3,2,"div",9),o.j41(16,"ion-item"),o.nrm(17,"ion-input",10)(18,"ion-icon",11),o.k0s(),o.DNE(19,M,3,2,"div",9),o.j41(20,"div",12)(21,"a",13),o.EFF(22,"\xbfOlvidaste la contrase\xf1a?"),o.k0s()(),o.j41(23,"div",14)(24,"p"),o.EFF(25," \xbfEs tu primera vez? "),o.j41(26,"a",13),o.EFF(27,"Reg\xedstrate"),o.k0s()()()(),o.j41(28,"ion-fab",15)(29,"ion-fab-button",16),o.bIt("click",function(){return e.login()}),o.nrm(30,"ion-icon",17),o.k0s()()()()),2&t&&(o.Y8G("translucent",!0),o.R7$(4),o.Y8G("fullscreen",!0),o.R7$(6),o.Y8G("formGroup",e.loginForm),o.R7$(5),o.Y8G("ngIf",(null==e.loginForm.controls?null:e.loginForm.controls.email.touched)&&(null==e.loginForm.controls?null:e.loginForm.controls.email.invalid)),o.R7$(4),o.Y8G("ngIf",(null==e.loginForm.controls?null:e.loginForm.controls.password.touched)&&(null==e.loginForm.controls?null:e.loginForm.controls.password.invalid)),o.R7$(2),o.Y8G("routerLink",o.lJ4(7,h)),o.R7$(5),o.Y8G("routerLink",o.lJ4(8,C)))},dependencies:[m.bT,s.qT,s.BC,s.cb,r.W9,r.Q8,r.YW,r.eU,r.iq,r.$w,r.uz,r.IO,r.BC,r.ai,r.Gw,r.oY,c.Wk,s.j4,s.JD],styles:[".input[_ngcontent-%COMP%]{font-weight:300}ion-item[_ngcontent-%COMP%]{--background:#fbdaff54;border-radius:10px;margin-bottom:16px}.header[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:80px;text-align:center}.header[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{color:gray;font-size:1.2rem}.header[_ngcontent-%COMP%]   title[_ngcontent-%COMP%]{font-size:3rem}.signupLink[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;margin:auto;justify-content:center;position:absolute;left:0;bottom:0;right:0;width:80%}.signupLink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem}.signupLink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.forgotPassword[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.forgotPassword[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:400;font-size:1rem;text-decoration:none}.text[_ngcontent-%COMP%]{display:flex;justify-content:left;font-size:smaller;margin-left:20px;color:#ff000080}"]}),i})()}];let j=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[c.iI.forChild(E),c.iI]}),i})(),G=(()=>{var n;class i{}return(n=i).\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[m.MD,s.YN,r.bv,j,s.X1]}),i})()}}]);